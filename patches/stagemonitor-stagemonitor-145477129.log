Executing latest Jacoco+Badua (no empty probes): dataflow Coverage -> false
2020-04-17 17:05:28 DEBUG JRelifixMain$:32 - classpath: /Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/main_temp:/Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/test:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-sandbox-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/elasticsearch-2.2.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/slf4j-api-1.7.21.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-webmvc-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-misc-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/stagemonitor-dispatcher-0.28.0-SNAPSHOT.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-classic-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-databind-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-core-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-module-afterburner-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-cli-1.3.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/aopalliance-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-backward-codecs-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-aop-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-grouping-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/securesm-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-memory-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/junit-4.12.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/mockito-all-2.0.2-beta.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/HdrHistogram-2.1.6.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-logging-1.1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/guava-18.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-convert-1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-web-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-graphite-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-context-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/netty-3.10.5.Final.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-annotation-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-yaml-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-expression-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-core-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-annotations-2.7.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-io-2.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queries-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/snakeyaml-1.15.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/simpleclient-0.0.14.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-suggest-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/t-digest-3.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-agent-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-cbor-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-time-2.8.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-analyzers-common-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial3d-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hamcrest-core-1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hppc-0.7.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spatial4j-0.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-smile-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-highlighter-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jsr166e-1.1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-core-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/compress-lzf-1.0.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-join-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-core-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-beans-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-core-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queryparser-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-json-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs
2020-04-17 17:05:28 INFO  JRelifixMain$:34 - Parsing AST ...
2020-04-17 17:05:32 INFO  JRelifixMain$:39 - Done parsing AST!
2020-04-17 17:05:32 INFO  JRelifixMain$:41 - Building source file contents (ASTRewriter) ...
2020-04-17 17:05:32 INFO  JRelifixMain$:45 - Done building source file contents!
2020-04-17 17:05:32 INFO  JRelifixMain$:47 - Initializing Compiler/TestCases Invoker ...
2020-04-17 17:05:34 DEBUG TestCaseValidator:20 - Initially Reduced Tests: org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportHistograms
2020-04-17 17:05:34 DEBUG TestCaseValidator:20 - Initially Reduced Tests: org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportTimers
2020-04-17 17:05:34 INFO  JRelifixMain$:74 - Done initializing!
2020-04-17 17:05:34 INFO  JRelifixMain$:76 - Initializing Collectors...
2020-04-17 17:05:41 DEBUG SeedsCollector:77 - Collected seeds: HashSet([MethodInvocationSeedIdentifier] convertRate(metered.getOneMinuteRate()), [VariableSeedIdentifier] meter, [AssignmentSeedIdentifier] this.valueWriter=valueWriter, [VariableSeedIdentifier] counter, [VariableSeedIdentifier] rateUnit, [ExpressionSeedIdentifier] Timer.class == metricClass, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"p999",convertDuration(snapshot.get999thPercentile())), [MethodInvocationSeedIdentifier] writeMetered(meter,jg), [AssignmentSeedIdentifier] this.filter=filter, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"p99",convertDuration(snapshot.get99thPercentile())), [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"m1_rate",convertRate(metered.getOneMinuteRate())), [MethodInvocationSeedIdentifier] convertDuration(snapshot.getMin()), [VariableSeedIdentifier] snapshot, [ExpressionSeedIdentifier] value instanceof Boolean, [MethodInvocationSeedIdentifier] writeSnapshot(timer.getSnapshot(),jg), [MethodInvocationSeedIdentifier] convertDuration(snapshot.get95thPercentile()), [MethodInvocationSeedIdentifier] convertDuration(snapshot.getMax()), [VariableSeedIdentifier] filter, [VariableSeedIdentifier] tagEntry, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"mean_rate",convertRate(metered.getMeanRate())), [MethodInvocationSeedIdentifier] convertDuration(snapshot.getMedian()), [VariableSeedIdentifier] metricClass, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"m5_rate",convertRate(metered.getFiveMinuteRate())), [ExpressionSeedIdentifier] value == null, [ExpressionSeedIdentifier] Counter.class == metricClass, [VariableSeedIdentifier] valueWriter, [MethodInvocationSeedIdentifier] convertDuration(snapshot.get98thPercentile()), [MethodInvocationSeedIdentifier] convertDuration(snapshot.getMean()), [MethodInvocationSeedIdentifier] writeMetered(timer,jg), [ExpressionSeedIdentifier] Meter.class == metricClass, [VariableSeedIdentifier] metricType, [VariableSeedIdentifier] provider, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"std",convertDuration(snapshot.getStdDev())), [VariableSeedIdentifier] value, [MethodInvocationSeedIdentifier] convertRate(metered.getFifteenMinuteRate()), [ExpressionSeedIdentifier] value instanceof Number, [MethodInvocationSeedIdentifier] convertDuration(snapshot.getStdDev()), [VariableSeedIdentifier] gauge, [ExpressionSeedIdentifier] Gauge.class == metricClass, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"mean",convertDuration(snapshot.getMean())), [VariableSeedIdentifier] rate, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"p98",convertDuration(snapshot.get98thPercentile())), [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"p95",convertDuration(snapshot.get95thPercentile())), [MethodInvocationSeedIdentifier] convertDuration(snapshot.get99thPercentile()), [VariableSeedIdentifier] entry, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"min",convertDuration(snapshot.getMin())), [VariableSeedIdentifier] histogram, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"p75",convertDuration(snapshot.get75thPercentile())), [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian())), [VariableSeedIdentifier] jg, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"m15_rate",convertRate(metered.getFifteenMinuteRate())), [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"p25",convertDuration(snapshot.getValue(0.25))), [AssignmentSeedIdentifier] this.rateFactor=rateUnit.toSeconds(1), [VariableSeedIdentifier] metricName, [MethodInvocationSeedIdentifier] convertRate(metered.getMeanRate()), [ExpressionSeedIdentifier] Histogram.class == metricClass, [VariableSeedIdentifier] gen, [MethodInvocationSeedIdentifier] convertDuration(snapshot.get999thPercentile()), [VariableSeedIdentifier] timer, [MethodInvocationSeedIdentifier] convertDuration(snapshot.getValue(0.25)), [VariableSeedIdentifier] durationUnit, [VariableSeedIdentifier] metered, [MethodInvocationSeedIdentifier] convertRate(metered.getFiveMinuteRate()), [VariableSeedIdentifier] duration, [MethodInvocationSeedIdentifier] writeSnapshot(snapshot,jg), [MethodInvocationSeedIdentifier] convertDuration(snapshot.get75thPercentile()), [VariableSeedIdentifier] context, [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"value",((Number)value).doubleValue()), [MethodInvocationSeedIdentifier] writeDoubleUnlessNaN(jg,"max",convertDuration(snapshot.getMax())), [AssignmentSeedIdentifier] this.durationFactor=1.0 / durationUnit.toNanos(1), [ExpressionSeedIdentifier] !Double.isNaN(value), [VariableSeedIdentifier] key)
2020-04-17 17:05:41 DEBUG ChangedSeedsCollector:60 - Update seed change status: [HashSet(MOVED)] writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian()))
2020-04-17 17:05:41 DEBUG ChangedSeedsCollector:133 - Additional seed from change history: [HashSet(MOVED)] writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian()));
2020-04-17 17:05:41 DEBUG ChangedSeedsCollector:133 - Additional seed from change history: [HashSet(MODIFIED)] writeDoubleUnlessNaN(jg,"median",convertDuration(snapshot.getMedian()));
2020-04-17 17:05:41 DEBUG ChangedSeedsCollector:127 - Update seed change status: [HashSet(MODIFIED, MOVED)] writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian()));
2020-04-17 17:05:41 INFO  JRelifixMain$:85 - Done Initializing Collectors!
2020-04-17 17:05:41 INFO  JRelifixMain$:87 - Initializing Mutation Generator ...
2020-04-17 17:05:41 INFO  JRelifixMain$:89 - Done initializing!
2020-04-17 17:05:41 INFO  JRelifixMain$:91 - Trying to set up fault localization ...
2020-04-17 17:05:41 INFO  JRelifixMain$:143 - Doing localization with predefined faults...
2020-04-17 17:05:41 INFO  JRelifixMain$:180 - Done localization!
2020-04-17 17:05:41 INFO  JRelifixMain$:183 - Considering top 10 fault locations
2020-04-17 17:05:41 INFO  JRelifixMain$:93 - Finished fault localization!
2020-04-17 17:05:41 INFO  JRelifixMain$:94 - Transforming faults to Java Nodes ...
2020-04-17 17:05:41 INFO  JRelifixMain$:101 - Done Transforming!
2020-04-17 17:05:41 INFO  JRelifixMain$:102 - Faults after transforming to Java Nodes:
2020-04-17 17:05:41 INFO  JRelifixMain$:103 - net.bqc.jrelifix.identifier.fault.PredefinedFaultIdentifier@38a26ed2 -> writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian()));
2020-04-17 17:05:41 INFO  JRelifixMain$:106 - Running Repair Engine ...
2020-04-17 17:05:41 DEBUG JRelifixEngine:116 - Condition Expression Seed Set for Engine: HashSet()
2020-04-17 17:05:41 DEBUG JRelifixEngine:117 - Statement Seed Set for Engine: HashSet([StatementSeedIdentifier] writeDoubleUnlessNaN(jg,"median",convertDuration(snapshot.getMedian()));, [StatementSeedIdentifier] writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian()));)
2020-04-17 17:05:41 DEBUG JRelifixEngine:136 - Primary Operators: Queue(DELETE, NEGATE, SWAP, REVERT, CONVERT, ADDIF, ADDCON, ADDSTMT)
2020-04-17 17:05:41 DEBUG JRelifixEngine:137 - Secondary Operators: Queue(NEGATE, CONVERT, ADDIF, ADDCON)
2020-04-17 17:05:41 DEBUG JRelifixEngine:145 - Filtered Faults:
2020-04-17 17:05:41 INFO  JRelifixEngine:146 - net.bqc.jrelifix.identifier.fault.PredefinedFaultIdentifier@38a26ed2 -> writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian()));
2020-04-17 17:05:41 DEBUG JRelifixEngine:149 - [FAULT] Try: net.bqc.jrelifix.identifier.fault.PredefinedFaultIdentifier@38a26ed2 -> writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian()));
2020-04-17 17:05:41 DEBUG JRelifixEngine:157 - [OPERATOR] Candidates: Queue(ADDIF, ADDCON, NEGATE, ADDSTMT, CONVERT, DELETE, SWAP, REVERT)
2020-04-17 17:05:41 DEBUG JRelifixEngine:161 - [OPERATOR] Try: ADDIF
2020-04-17 17:05:41 DEBUG JRelifixEngine:166 - [OPERATOR PARAM] Picking a parameter seed for parameterizable operator ADDIF...
2020-04-17 17:05:41 DEBUG JRelifixEngine:85 - Seed Set is empty!
2020-04-17 17:05:41 DEBUG JRelifixEngine:184 - [OPERATOR] Applied: ×
2020-04-17 17:05:41 DEBUG JRelifixEngine:161 - [OPERATOR] Try: ADDCON
2020-04-17 17:05:41 DEBUG JRelifixEngine:166 - [OPERATOR PARAM] Picking a parameter seed for parameterizable operator ADDCON...
2020-04-17 17:05:41 DEBUG JRelifixEngine:85 - Seed Set is empty!
2020-04-17 17:05:41 DEBUG JRelifixEngine:184 - [OPERATOR] Applied: ×
2020-04-17 17:05:41 DEBUG JRelifixEngine:161 - [OPERATOR] Try: NEGATE
2020-04-17 17:05:41 DEBUG JRelifixEngine:184 - [OPERATOR] Applied: ×
2020-04-17 17:05:41 DEBUG JRelifixEngine:161 - [OPERATOR] Try: ADDSTMT
2020-04-17 17:05:41 DEBUG JRelifixEngine:166 - [OPERATOR PARAM] Picking a parameter seed for parameterizable operator ADDSTMT...
2020-04-17 17:05:41 DEBUG JRelifixEngine:96 - [OPERATOR PARAM] Chosen Parameter Seed: [StatementSeedIdentifier] writeDoubleUnlessNaN(jg,"p50",convertDuration(snapshot.getMedian()));
2020-04-17 17:05:41 DEBUG JRelifixEngine:184 - [OPERATOR] Applied: ✓
2020-04-17 17:05:41 DEBUG JRelifixEngine:195 - ==========> AFTER MUTATING
2020-04-17 17:05:42 DEBUG JRelifixEngine:198 - [COMPILE] Status: COMPILED
2020-04-17 17:05:42 INFO  TestExecutionProcessLauncher:59 - [Running] org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportHistograms |
2020-04-17 17:05:43 DEBUG TestExecutionProcessLauncher:99 - Execute Command: /Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/jre/bin/java -cp /Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/main_temp:/Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/test:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-sandbox-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/elasticsearch-2.2.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/slf4j-api-1.7.21.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-webmvc-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-misc-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/stagemonitor-dispatcher-0.28.0-SNAPSHOT.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-classic-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-databind-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-core-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-module-afterburner-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-cli-1.3.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/aopalliance-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-backward-codecs-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-aop-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-grouping-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/securesm-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-memory-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/junit-4.12.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/mockito-all-2.0.2-beta.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/HdrHistogram-2.1.6.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-logging-1.1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/guava-18.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-convert-1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-web-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-graphite-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-context-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/netty-3.10.5.Final.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-annotation-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-yaml-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-expression-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-core-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-annotations-2.7.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-io-2.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queries-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/snakeyaml-1.15.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/simpleclient-0.0.14.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-suggest-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/t-digest-3.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-agent-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-cbor-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-time-2.8.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-analyzers-common-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial3d-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hamcrest-core-1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hppc-0.7.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spatial4j-0.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-smile-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-highlighter-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jsr166e-1.1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-core-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/compress-lzf-1.0.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-join-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-core-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-beans-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-core-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queryparser-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-json-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs:/Users/cuong/IdeaProjects/jrelifix/target/classes net.bqc.jrelifix.context.validation.executor.JUnitTestExecutor org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportHistograms
2020-04-17 17:05:43 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output: Failed/Total: 1/1
2020-04-17 17:05:43 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output: Failure: expected:<{app=test, std=5.0, max=2.0, count=1, p95=8.0, p98=9.0, p75=7.0, p99=10.0, p25=0.0, @timestamp=1587117943252, min=4.0, median=6.0, mean=4.0, name=histogram, p999=11.0}> but was:<{@timestamp=1587117943252, app=test, count=1, max=2.0, mean=4.0, min=4.0, name=histogram, p25=0.0, p50=6.0, p75=7.0, p95=8.0, p98=9.0, p99=10.0, p999=11.0, std=5.0}>
2020-04-17 17:05:43 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output:
2020-04-17 17:05:43 INFO  TestExecutionProcessLauncher:81 - [ × ] <-----------------------------------------------------------------------------------------/
2020-04-17 17:05:43 INFO  TestExecutionProcessLauncher:59 - [Running] org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportTimers |
2020-04-17 17:05:44 DEBUG TestExecutionProcessLauncher:99 - Execute Command: /Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/jre/bin/java -cp /Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/main_temp:/Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/test:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-sandbox-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/elasticsearch-2.2.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/slf4j-api-1.7.21.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-webmvc-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-misc-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/stagemonitor-dispatcher-0.28.0-SNAPSHOT.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-classic-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-databind-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-core-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-module-afterburner-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-cli-1.3.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/aopalliance-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-backward-codecs-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-aop-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-grouping-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/securesm-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-memory-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/junit-4.12.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/mockito-all-2.0.2-beta.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/HdrHistogram-2.1.6.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-logging-1.1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/guava-18.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-convert-1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-web-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-graphite-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-context-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/netty-3.10.5.Final.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-annotation-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-yaml-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-expression-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-core-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-annotations-2.7.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-io-2.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queries-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/snakeyaml-1.15.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/simpleclient-0.0.14.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-suggest-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/t-digest-3.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-agent-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-cbor-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-time-2.8.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-analyzers-common-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial3d-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hamcrest-core-1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hppc-0.7.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spatial4j-0.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-smile-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-highlighter-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jsr166e-1.1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-core-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/compress-lzf-1.0.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-join-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-core-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-beans-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-core-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queryparser-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-json-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs:/Users/cuong/IdeaProjects/jrelifix/target/classes net.bqc.jrelifix.context.validation.executor.JUnitTestExecutor org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportTimers
2020-04-17 17:05:44 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output: Failed/Total: 1/1
2020-04-17 17:05:44 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output: Failure: expected:<{app=test, mean_rate=2.0, std=5.0, max=2.0, count=1, p95=8.0, p98=9.0, m1_rate=3.0, p75=7.0, p99=10.0, p25=0.0, @timestamp=1587117944013, min=4.0, median=6.0, mean=4.0, name=response_time, p999=11.0, m15_rate=5.0, m5_rate=4.0}> but was:<{@timestamp=1587117944013, app=test, count=1, m15_rate=5.0, m1_rate=3.0, m5_rate=4.0, max=2.0, mean=4.0, mean_rate=2.0, min=4.0, name=response_time, p25=0.0, p50=6.0, p75=7.0, p95=8.0, p98=9.0, p99=10.0, p999=11.0, std=5.0}>
2020-04-17 17:05:44 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output:
2020-04-17 17:05:44 INFO  TestExecutionProcessLauncher:81 - [ × ] <-------------------------------------------------------------------------------------/
2020-04-17 17:05:44 DEBUG JRelifixEngine:202 -  ==> [VALIDATION] REDUCED TS: ×
2020-04-17 17:05:44 DEBUG JRelifixEngine:161 - [OPERATOR] Try: CONVERT
2020-04-17 17:05:44 DEBUG JRelifixEngine:184 - [OPERATOR] Applied: ×
2020-04-17 17:05:44 DEBUG JRelifixEngine:161 - [OPERATOR] Try: DELETE
2020-04-17 17:05:44 DEBUG JRelifixEngine:184 - [OPERATOR] Applied: ×
2020-04-17 17:05:44 DEBUG JRelifixEngine:161 - [OPERATOR] Try: SWAP
2020-04-17 17:05:44 DEBUG JRelifixEngine:184 - [OPERATOR] Applied: ✓
2020-04-17 17:05:44 DEBUG JRelifixEngine:195 - ==========> AFTER MUTATING
2020-04-17 17:05:45 DEBUG JRelifixEngine:198 - [COMPILE] Status: COMPILED
2020-04-17 17:05:45 INFO  TestExecutionProcessLauncher:59 - [Running] org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportHistograms |
2020-04-17 17:05:46 DEBUG TestExecutionProcessLauncher:99 - Execute Command: /Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/jre/bin/java -cp /Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/main_temp:/Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/test:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-sandbox-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/elasticsearch-2.2.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/slf4j-api-1.7.21.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-webmvc-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-misc-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/stagemonitor-dispatcher-0.28.0-SNAPSHOT.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-classic-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-databind-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-core-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-module-afterburner-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-cli-1.3.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/aopalliance-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-backward-codecs-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-aop-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-grouping-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/securesm-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-memory-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/junit-4.12.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/mockito-all-2.0.2-beta.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/HdrHistogram-2.1.6.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-logging-1.1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/guava-18.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-convert-1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-web-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-graphite-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-context-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/netty-3.10.5.Final.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-annotation-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-yaml-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-expression-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-core-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-annotations-2.7.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-io-2.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queries-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/snakeyaml-1.15.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/simpleclient-0.0.14.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-suggest-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/t-digest-3.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-agent-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-cbor-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-time-2.8.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-analyzers-common-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial3d-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hamcrest-core-1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hppc-0.7.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spatial4j-0.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-smile-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-highlighter-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jsr166e-1.1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-core-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/compress-lzf-1.0.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-join-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-core-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-beans-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-core-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queryparser-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-json-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs:/Users/cuong/IdeaProjects/jrelifix/target/classes net.bqc.jrelifix.context.validation.executor.JUnitTestExecutor org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportHistograms
2020-04-17 17:05:46 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output: Failed/Total: 1/1
2020-04-17 17:05:46 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output: Failure: expected:<{app=test, std=5.0, max=2.0, count=1, p95=8.0, p98=9.0, p75=7.0, p99=10.0, p25=0.0, @timestamp=1587117945718, min=4.0, median=6.0, mean=4.0, name=histogram, p999=11.0}> but was:<{@timestamp=1587117945718, app=test, count=1, max=2.0, mean=4.0, min=4.0, name=histogram, p25=0.0, p50=6.0, p75=7.0, p95=8.0, p98=9.0, p99=10.0, p999=11.0, std=5.0}>
2020-04-17 17:05:46 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output:
2020-04-17 17:05:46 INFO  TestExecutionProcessLauncher:81 - [ × ] <-----------------------------------------------------------------------------------------/
2020-04-17 17:05:46 INFO  TestExecutionProcessLauncher:59 - [Running] org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportTimers |
2020-04-17 17:05:46 DEBUG TestExecutionProcessLauncher:99 - Execute Command: /Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home/jre/bin/java -cp /Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/main_temp:/Users/cuong/bugswarm/code/stagemonitor/stagemonitor/stagemonitor-core/build/classes/test:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-sandbox-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/elasticsearch-2.2.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/slf4j-api-1.7.21.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-webmvc-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-misc-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/stagemonitor-dispatcher-0.28.0-SNAPSHOT.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-classic-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-databind-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-core-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-module-afterburner-2.7.4.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-cli-1.3.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/aopalliance-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-backward-codecs-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-aop-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-grouping-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/securesm-1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-memory-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/junit-4.12.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/mockito-all-2.0.2-beta.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/HdrHistogram-2.1.6.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-logging-1.1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/guava-18.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-convert-1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-web-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-graphite-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-context-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/netty-3.10.5.Final.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-annotation-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-yaml-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-expression-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-core-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-annotations-2.7.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/commons-io-2.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queries-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/snakeyaml-1.15.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/simpleclient-0.0.14.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-suggest-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/t-digest-3.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-agent-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-cbor-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/joda-time-2.8.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-analyzers-common-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial3d-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hamcrest-core-1.3.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/hppc-0.7.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spatial4j-0.5.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jackson-dataformat-smile-2.6.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-highlighter-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/jsr166e-1.1.0.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/logback-core-1.1.7.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/compress-lzf-1.0.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-join-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-core-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-spatial-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/byte-buddy-1.4.11.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/spring-beans-4.1.0.RELEASE.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-core-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/lucene-queryparser-5.4.1.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs/metrics-json-3.1.2.jar:/Users/cuong/bugswarm/stagemonitor-stagemonitor-145477129-libs:/Users/cuong/IdeaProjects/jrelifix/target/classes net.bqc.jrelifix.context.validation.executor.JUnitTestExecutor org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportTimers
2020-04-17 17:05:46 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output: Failed/Total: 1/1
2020-04-17 17:05:46 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output: Failure: expected:<{app=test, mean_rate=2.0, std=5.0, max=2.0, count=1, p95=8.0, p98=9.0, m1_rate=3.0, p75=7.0, p99=10.0, p25=0.0, @timestamp=1587117946474, min=4.0, median=6.0, mean=4.0, name=response_time, p999=11.0, m15_rate=5.0, m5_rate=4.0}> but was:<{@timestamp=1587117946474, app=test, count=1, m15_rate=5.0, m1_rate=3.0, m5_rate=4.0, max=2.0, mean=4.0, mean_rate=2.0, min=4.0, name=response_time, p25=0.0, p50=6.0, p75=7.0, p95=8.0, p98=9.0, p99=10.0, p999=11.0, std=5.0}>
2020-04-17 17:05:46 DEBUG TestExecutionProcessLauncher:105 - Test Runner Output:
2020-04-17 17:05:46 INFO  TestExecutionProcessLauncher:81 - [ × ] <-------------------------------------------------------------------------------------/
2020-04-17 17:05:46 DEBUG JRelifixEngine:202 -  ==> [VALIDATION] REDUCED TS: ×
2020-04-17 17:05:46 DEBUG JRelifixEngine:161 - [OPERATOR] Try: REVERT
2020-04-17 17:05:46 DEBUG JRelifixEngine:184 - [OPERATOR] Applied: ✓
2020-04-17 17:05:46 DEBUG JRelifixEngine:195 - ==========> AFTER MUTATING
2020-04-17 17:05:47 DEBUG JRelifixEngine:198 - [COMPILE] Status: COMPILED
2020-04-17 17:05:47 INFO  TestExecutionProcessLauncher:59 - [Running] org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportHistograms |
2020-04-17 17:05:48 INFO  TestExecutionProcessLauncher:81 - [ ✓ ] <-----------------------------------------------------------------------------------------/
2020-04-17 17:05:48 INFO  TestExecutionProcessLauncher:59 - [Running] org.stagemonitor.core.metrics.metrics2.ElasticsearchReporterTest#testReportTimers |
2020-04-17 17:05:49 INFO  TestExecutionProcessLauncher:81 - [ ✓ ] <-------------------------------------------------------------------------------------/
2020-04-17 17:05:49 DEBUG JRelifixEngine:202 -  ==> [VALIDATION] REDUCED TS: ✓
2020-04-17 17:05:49 DEBUG JRelifixEngine:206 - ==> [VALIDATION] WHOLE TS: ✓
2020-04-17 17:05:49 DEBUG JRelifixEngine:208 - ==========================================
2020-04-17 17:05:49 DEBUG JRelifixEngine:209 - FOUND A REPAIR (See below patch):
2020-04-17 17:05:49 DEBUG JRelifixEngine:219 - ------------------------------------------
--- src/main/java/org/stagemonitor/core/metrics/metrics2/Metric2RegistryModule.java
+++ src/main/java/org/stagemonitor/core/metrics/metrics2/Metric2RegistryModule.java
@@ -164,9 +164,11 @@
 		writeDoubleUnlessNaN(jg, "min", convertDuration(snapshot.getMin()));
 		writeDoubleUnlessNaN(jg, "max", convertDuration(snapshot.getMax()));
 		writeDoubleUnlessNaN(jg, "mean", convertDuration(snapshot.getMean()));
+		writeDoubleUnlessNaN(jg, "median", convertDuration(snapshot.getMedian()));
 		writeDoubleUnlessNaN(jg, "std", convertDuration(snapshot.getStdDev()));
 		writeDoubleUnlessNaN(jg, "p25", convertDuration(snapshot.getValue(0.25)));
-		writeDoubleUnlessNaN(jg, "p50", convertDuration(snapshot.getMedian()));
+		{
+		}
 		writeDoubleUnlessNaN(jg, "p75", convertDuration(snapshot.get75thPercentile()));
 		writeDoubleUnlessNaN(jg, "p95", convertDuration(snapshot.get95thPercentile()));
 		writeDoubleUnlessNaN(jg, "p98", convertDuration(snapshot.get98thPercentile()));

2020-04-17 17:05:49 DEBUG JRelifixEngine:222 - ==========================================
2020-04-17 17:05:49 INFO  JRelifixMain$:111 - Done Repair!